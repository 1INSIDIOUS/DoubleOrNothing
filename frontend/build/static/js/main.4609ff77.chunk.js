(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e){e.exports={a:[{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!1,name:"player",type:"address"},{indexed:!1,name:"winnings",type:"uint256"}],name:"BetSettled",type:"event"},{constant:!1,inputs:[],name:"bet",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]}},127:function(e,t,a){e.exports=a.p+"static/media/ig_coin_card.968dcb99.png"},128:function(e,t,a){e.exports=a.p+"static/media/ig_cloud.8b23be96.png"},129:function(e,t,a){e.exports=a.p+"static/media/ig_bg.378689a4.jpg"},130:function(e,t,a){e.exports=a(281)},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t){},142:function(e,t){},171:function(e,t){},173:function(e,t){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(123),c=a.n(r),l=(a(135),a(16)),o=a(17),s=a(19),u=a(18),d=a(20),m=(a(136),a(124)),b=a(125),p=a(126),f=(a(188),a(189),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"coin-container "+(this.props.showFace?"flipped":"")},i.a.createElement("div",{className:"disk-body"}),i.a.createElement("div",{className:"disk-body back"}),i.a.createElement("div",{className:"top-face top-back-face disk"},i.a.createElement("div",{className:"half-face half-face-lower"}),i.a.createElement("div",{className:"half-face half-face-upper"})),i.a.createElement("div",{className:"disk face bottom-back-face"},i.a.createElement("div",{className:"half-face half-face-lower"}),i.a.createElement("div",{className:"half-face half-face-upper"})),i.a.createElement("div",{className:"disk bottom-front-face"}),i.a.createElement("div",{className:"face top-face top-face-front disk"}))}}]),t}(i.a.PureComponent)),v=(a(190),a(40)),h=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.balance,a=e.betAmount;return i.a.createElement("div",{className:"display"},i.a.createElement("div",{className:"title-container"},i.a.createElement("div",{className:"title"},"Balance:"),i.a.createElement("div",{className:"value"},parseFloat(Object(v.formatEther)(t)).toFixed(2)," TT")),i.a.createElement("div",{className:"title-container"},i.a.createElement("div",{className:"title"},"Bet Size:"),i.a.createElement("div",{className:"value"},a," TT")))}}]),t}(i.a.PureComponent),E=a(127),y=a.n(E),g=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={animating:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.playGame,n=t.disabled,r=t.win,c=t.double,l=t.balance,o=t.betAmount,s=t.reset,u=this.state.animating;return i.a.createElement("div",{className:"game-container"},i.a.createElement("div",{className:"display-container"},i.a.createElement(h,{balance:l,betAmount:o.toString()})),i.a.createElement("div",{className:"coin-display-container container"},i.a.createElement("img",{src:y.a,alt:""}),i.a.createElement("div",{className:"center"},i.a.createElement("div",{className:u?"coin flip":"coin",onAnimationEnd:function(){e.setState({animating:!1})}},i.a.createElement(f,{showFace:!r})))),i.a.createElement("div",{className:"container"},i.a.createElement("button",{onClick:a,disabled:n,className:"bet-button button"})),i.a.createElement("div",{className:"container"},i.a.createElement("button",{onClick:c,disabled:n||r,className:"double-button button"}),i.a.createElement("button",{onClick:s,disabled:n,className:"reset-button button"})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.flipping&&!t.animating?{animating:!0}:null}}]),t}(i.a.PureComponent),w=.5,N=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).watchBalance=function(){a.props.signer.getAddress().then(function(e){return setInterval(function(){a.props.signer.provider.getBalance(e).then(function(e){a.setState({balance:e.toString()})})},500)})},a.play=function(e){a.setState({disabled:!0}),a.state.contract.bet({value:Object(v.parseEther)(e.toString()).toHexString(),gasLimit:Object(v.bigNumberify)("40000").toHexString()}).then(function(e){return a.setState({flipping:!0}),e.wait()}).then(function(e){var t=e.events[0].args;a.setState({flipping:!1,win:"0"!==t.winnings.toString()})}).finally(function(){a.setState({disabled:!1,flipping:!1})})},a.playGame=function(){a.play(a.state.betAmount)},a.double=function(){var e=2*a.state.betAmount;a.setState({betAmount:e}),a.play(e)},a.reset=function(){a.setState({betAmount:w})};var n=new b.Contract(e.contractAddress,p.a,e.signer);return a.watchBalance(),a.state={betAmount:w,balance:"",contract:n,win:!0,initialized:!1,error:!1,disabled:!1,flipping:!1},n.deployed().then(function(){a.setState({initialized:!0})}).catch(function(){a.setState({error:!0})}),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"renderError",value:function(){return i.a.createElement("div",null,"Error loading contract")}},{key:"renderLoading",value:function(){return i.a.createElement("div",null,"Loading...")}},{key:"render",value:function(){var e=this.state,t=e.initialized,a=e.error,n=e.disabled,r=e.flipping,c=e.win,l=e.balance,o=e.betAmount;return a?this.renderError():t?i.a.createElement(g,{double:this.double,playGame:this.playGame,reset:this.reset,betAmount:o,balance:l,win:c,disabled:n,flipping:r}):this.renderLoading()}}]),t}(i.a.PureComponent),j=a(128),O=a.n(j),k=a(129),S=a.n(k),A=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e));var n,i=!!window.ethereum;return i&&(n=new m.Web3Provider(window.ethereum).getSigner(),window.ethereum.enable().catch(function(){return a.setState({enabled:!1})})),a.state={signer:n,enabled:i},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"renderWeb3MissingError",value:function(){return i.a.createElement("div",null,"Please connect a Web3 provider")}},{key:"renderEnableProvider",value:function(){return i.a.createElement("div",null,"Please enable Your Web3 Provider")}},{key:"render",value:function(){var e=this.state,t=e.signer,a=e.enabled;return i.a.createElement("div",{className:"app"},i.a.createElement("div",{className:"top"},i.a.createElement("img",{src:S.a,alt:""})),i.a.createElement("div",{className:"flex"}),i.a.createElement("div",{className:"clouds"},i.a.createElement("img",{src:O.a})),i.a.createElement("div",{className:"overlay"},i.a.createElement("div",{className:"content-container"},t?a?i.a.createElement(N,{contractAddress:"0xae79E6Dd805200ea8799214b0EfbC992733693a2",signer:t}):this.renderEnableProvider():this.renderWeb3MissingError())))}}]),t}(i.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[130,1,2]]]);
//# sourceMappingURL=main.4609ff77.chunk.js.map